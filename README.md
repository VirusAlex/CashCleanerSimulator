# Cash Cleaner Optimizer - –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ö—Ä–∞—Å–∏–≤–æ–µ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —É–ø–∞–∫–æ–≤–∫–∏ –Ω–∞–ª–∏—á–Ω—ã—Ö –¥–µ–Ω–µ–≥ –≤ —Å–∏—Å—Ç–µ–º–µ Cash Cleaner.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéØ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–ø–∞–∫–æ–≤–∫–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫—É–ø—é—Ä –ø–æ –ø–∞—á–∫–∞–º –∏ –±–ª–æ–∫–∞–º
- üí∞ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞–ª—é—Ç** - USD, EUR, JPY —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –Ω–æ–º–∏–Ω–∞–ª–∞–º–∏
- üì¶ **–ò–¥–µ–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏** - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª–æ–∫–æ–≤ –∏–∑ 30 –ø–∞—á–µ–∫ –ø–æ 100 –∫—É–ø—é—Ä –∫–∞–∂–¥–∞—è
- üîÑ **Fallback —Ä–µ–∂–∏–º** - –µ—Å–ª–∏ –∏–¥–µ–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å –æ–±—ã—á–Ω—ã–º–∏ –ø–∞—á–∫–∞–º–∏
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —É–¥–æ–±–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (desktop, tablet, mobile)
- üìä **–£—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–∞—á–µ–∫ –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞
- üé® **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞** - –∫–∞–∂–¥—ã–π –Ω–æ–º–∏–Ω–∞–ª –∏–º–µ–µ—Ç —Å–≤–æ–π —Ü–≤–µ—Ç –¥–ª—è –ª—É—á—à–µ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –°–ø–æ—Å–æ–± 1: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) üê≥

#### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make run

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ —Å nginx
make prod
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make help

# –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ä–∞–∑
make build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 5000)
make run

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ —Å nginx (–ø–æ—Ä—Ç 80)
make prod

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
make stop

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
make logs

# –ó–∞–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
make shell

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
make test

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
make restart

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã + –æ–±—Ä–∞–∑—ã)
make clean
```

#### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose
```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (—Ç–æ–ª—å–∫–æ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
docker-compose up -d cash-cleaner-optimizer

# –ü—Ä–æ–¥–∞–∫—à–Ω (Flask + nginx)
docker-compose --profile production up -d
```

### –°–ø–æ—Å–æ–± 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

#### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
python app.py
```

**–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:**
- –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫: http://localhost:5000
- Docker (dev): http://localhost:5000  
- Docker (prod): http://localhost:80

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –∑–∞–∫–∞–∑–∞** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫—Ä–∞—Ç–Ω–∞ 100 (–Ω–∞–ø—Ä–∏–º–µ—Ä, 300000)
2. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É** - USD, EUR –∏–ª–∏ JPY
3. **–£–∫–∞–∂–∏—Ç–µ –æ—Å—Ç–∞—Ç–∫–∏ –ø–∞—á–µ–∫** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** - —Å–∫–æ–ª—å–∫–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –ø–æ–∫–∞–∑–∞—Ç—å (1-10)
5. **–ù–∞–∂–º–∏—Ç–µ "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å"**

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ò–¥–µ–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ (USD)
- –°—É–º–º–∞: 750,000 USD
- –û—Å—Ç–∞—Ç–∫–∏: 100=18, 50=40
- –†–µ–∑—É–ª—å—Ç–∞—Ç: 2 –∏–¥–µ–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–∞ + 1 –±–ª–æ–∫ —Å –∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π –Ω–æ–º–∏–Ω–∞–ª–æ–≤

### –ü—Ä–∏–º–µ—Ä 2: Fallback —Ä–µ–∂–∏–º (EUR)
- –°—É–º–º–∞: 150,000 EUR
- –û—Å—Ç–∞—Ç–∫–∏: 100=10, 50=5
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –æ–±—ã—á–Ω—ã—Ö –ø–∞—á–µ–∫ (–∏–¥–µ–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Backend**: Flask (Python)
- **Frontend**: HTML5, CSS3, JavaScript (Vanilla)
- **–î–∏–∑–∞–π–Ω**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1**: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤ (30 –ø–∞—á–µ–∫ –ø–æ 100 –∫—É–ø—é—Ä)
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2**: –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–ª–æ–∫–æ–≤
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3**: –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–ø–æ–≤ –Ω–æ–º–∏–Ω–∞–ª–æ–≤
4. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4**: –ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã
- **USD**: 100, 50, 20, 10
- **EUR**: 100, 50, 20
- **JPY**: 10,000, 5,000, 1,000

## –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –Ω–æ–º–∏–Ω–∞–ª–æ–≤

| –ù–æ–º–∏–Ω–∞–ª | –¶–≤–µ—Ç |
|---------|------|
| 100 USD/EUR, 10000 JPY | üü° –ñ–µ–ª—Ç—ã–π |
| 50 USD/EUR, 5000 JPY | üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π |
| 20 USD/EUR | üîµ –°–∏–Ω–∏–π |
| 10 USD, 1000 JPY | üü¢ –ó–µ–ª–µ–Ω—ã–π |

## –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–æ–≤:
- **Desktop** (1200px+): –î–≤—É–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π –º–∞–∫–µ—Ç
- **Tablet** (768px-1199px): –û–¥–Ω–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π –º–∞–∫–µ—Ç
- **Mobile** (–¥–æ 767px): –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –º–∞–∫–µ—Ç —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π —Å–µ—Ç–∫–æ–π

## API Endpoints

### POST /optimize
–û—Å–Ω–æ–≤–Ω–æ–π endpoint –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```json
{
  "amount": 300000,
  "currency": "USD",
  "stock": {"100": "25", "50": "8"},
  "max_variants": 5
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "has_ideal": true,
  "variants": [...],
  "bundle_size": 100,
  "block_size": 30
}
```

### GET /currencies
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç –∏ –∏—Ö –Ω–æ–º–∏–Ω–∞–ª–æ–≤

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ë–î)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

## Docker –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **cash-cleaner-optimizer**: –û—Å–Ω–æ–≤–Ω–æ–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Python 3.11)
- **nginx**: Reverse proxy –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Docker
- –ó–∞–ø—É—Å–∫ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ (python:3.11-slim)
- Health checks –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ compose

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
```bash
# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:
# 1. docker-compose.yml - —É–±–µ—Ä–∏—Ç–µ volume mapping
# 2. nginx.conf - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
# 3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

# –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL:
# mkdir ssl
# # –ø–æ–º–µ—Å—Ç–∏—Ç–µ cert.pem –∏ key.pem –≤ –ø–∞–ø–∫—É ssl/
# # —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ HTTPS —Å–µ–∫—Ü–∏—é –≤ nginx.conf
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f
``` 